<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MapsX - Publicidad</title>
  <meta name="theme-color" content="#0f172a">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f4f7fb;
      --card:#ffffff;
      --radius:16px;
      --shadow-deep:0 24px 60px rgba(16,24,40,0.08);
      font-family:'Inter',system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;
    }
    html,body{
      height:100%;
      margin:0;
      background:linear-gradient(180deg,#f8fbff,var(--bg));
      color:#071033;
    }
    .container{
      max-width:800px;
      margin:28px auto;
      padding:20px;
    }
    .hero{
      width:100%;
      aspect-ratio:16/9;
      border-radius:14px;
      overflow:hidden;
      position:relative;
      background:#000;
      box-shadow:var(--shadow-deep);
      border:1px solid rgba(2,6,23,0.04);
    }
    #videoHolder{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      background:#000;
      user-select: none;     /* Evita selecci√≥n de texto/contenedor */
      pointer-events: none;  /* Bloquea clicks en el contenedor */
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="hero" role="region" aria-label="Publicidad en video">
      <div id="videoHolder" data-video-id="EFe4-ab1lBo"></div>
    </div>
  </div>

  <script>
    const VIDEO_ID = document.querySelector('#videoHolder')?.dataset?.videoId || '9V9YUSpmQgQ';
    let player = null;

    function loadYouTubeApi(){
      return new Promise((resolve)=>{
        if(window.YT && window.YT.Player){ resolve(); return; }
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api"; 
        tag.async = true;
        document.head.appendChild(tag);
        window.onYouTubeIframeAPIReady = function(){ resolve(); };
      });
    }

    async function initPlayer(){
      await loadYouTubeApi();
      try{
        player = new YT.Player('videoHolder', {
          height: '100%', width: '100%',
          videoId: VIDEO_ID,
          playerVars: {
            autoplay: 1, controls: 0, mute: 1,
            rel: 0, playsinline: 1, modestbranding: 1,
            disablekb: 1, iv_load_policy: 3
          },
          events: { onReady: onPlayerReady, onStateChange: onPlayerStateChange}
        });
      }catch(e){ console.error(e); }
    }

    function onPlayerReady(ev){
      try{ ev.target.getIframe().style.pointerEvents = 'none'; }catch(e){}
      try{ ev.target.playVideo(); }catch(e){}
    }

    function onPlayerStateChange(e){
      if(e.data === YT.PlayerState.ENDED){
        // Reinicia el video desde el inicio y lo reproduce
        player.seekTo(0);
        player.playVideo();
      }
    }

    initPlayer();
  </script>
</body>
</html>
